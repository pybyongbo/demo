<!DOCTYPE html>
<html lang="zh-cn">

<head>
    <meta charset="UTF-8">
    <title>文本框只能输入数字判断!</title>
    <link rel="stylesheet" type="text/css" href="../../../lib/bootstrap.min.css" media="screen">
    <script type="text/javascript" src="../../../lib/jquery-1.10.2.min.js"></script>
    <style type="text/css" media="screen">
    .demo1{width:780px;margin:50px auto;}
    .demo1 .form-horizontal label{width:90px;text-align:right;float:left;}
    input.form-control{width:240px;float:left;}
    span.info{line-height:32px;color:red;margin-left:10px;}
    #btn{width:180px;float: left;}
    code img{margin-left:85px;}
    </style>
</head>

<body>
    <div class="demo1 tc">
        <form class="form-horizontal user-input" id="form" role="form">
            <div class="form-group">
                <label for="user" class="col-sm-2 control-label">数量</label>
                <div class="col-sm-10">
                    <input type="text" class="form-control noreg" data-ime="1" id="user" placeholder="请输入数字">
                    <span class="info">只能输入数字</span>
                </div>


            </div>
            <div class="form-group">
                <label for="password" class="col-sm-2 control-label">台数</label>
                <div class="col-sm-10">
                    <input type="text" class="form-control noreg" id="password" placeholder="请输入台数">
                   <span class="info">只能输入数字</span>
                </div>
            </div>

            <div class="form-group">
                <div class="col-sm-offset-2 col-sm-10">
                    <button id="btn" type="button" class="btn btn-primary btn-block">提 交</button>
                </div>
            </div>


            
        </form>

        <code>
            
            <h1>小提示:</h1>
    
                    <ol>

                        <li><pre>在写移动端的页面的时候,可以直接设置input的type=number,而不必要用正则匹配.</pre></li>
                        
                    </ol>

        </code>


         
    </div>
</body>

</html>
<script type="text/javascript">
(function() {


//通过class获取元素.
function getByClass(oParent, sClass) {
    var aEle = oParent.getElementsByTagName('*');

    var aResult = [];
    var re = new RegExp('\\b' + sClass + '\\b', 'i');
    var i = 0;

    for (var i = 0; i < aEle.length; i++) {

        if (re.test(aEle[i].className)) {

            aResult.push(aEle[i]);

        }
    }

    return aResult;
}
	
	var form = document.getElementById('form');
    var textarea = document.getElementById('msg');
	var input = getByClass(form,'noreg');

	for(var i=0;i<input.length;i++) {

        input[i].onfocus = input[i].onblur = input[i].onkeyup = function(){

            this.value= this.value.replace(/\D/g,'');

        }
    }

}());
</script>
